---
import PasswordRecoveryForm from "../../components/auth/PasswordRecoveryForm";
import {Alert, AlertDescription} from "../../components/ui/alert";
import Layout from "../../layouts/Layout.astro";

const error = Astro.url.searchParams.get("error");
const errorMessages = {
  invalid_token: "Link do resetowania hasła wygasł lub jest nieprawidłowy. Spróbuj ponownie.",
} as const;
---

<Layout title='Password Recovery - AltImageOptimizer'>
  <main class='container mx-auto py-8 px-4'>
    <div class='max-w-md mx-auto'>
      <h1 class='text-3xl font-bold mb-6 text-center'>Odzyskiwanie hasła</h1>
      {
        error && errorMessages[error as keyof typeof errorMessages] && (
          <Alert variant='destructive' className='mb-6'>
            <AlertDescription>{errorMessages[error as keyof typeof errorMessages]}</AlertDescription>
          </Alert>
        )
      }
      <PasswordRecoveryForm client:load />
    </div>
  </main>
</Layout>
